import { Operator } from './Operator'

export default interface GenX {
  genX<I, O1>(): (input?: I) => AsyncGenerator<O1>
  <% range.forEach(nums => { %>
    genX<<%= nums.map(num => `O${num}`).join(', ') %>>(
      operator1: () => O1,
      <% nums.slice(1).forEach(num => { %>
        operator<%= num %>: Operator<<%= num === 1 ? 'I' : `O${num - 1}` %>, O<%= num %>>,
      <% }) %>
    ): () => AsyncGenerator<O<%= nums[nums.length - 1] %>>
    genX<I, <%= nums.map(num => `O${num}`).join(', ') %>>(
      operator1: (input: I) => O1,
      <% nums.slice(1).forEach(num => { %>
        operator<%= num %>: Operator<<%= num === 1 ? 'I' : `O${num - 1}` %>, O<%= num %>>,
      <% }) %>
    ): (input: I) => AsyncGenerator<O<%= nums[nums.length - 1] %>>
  <% }) %>
}
